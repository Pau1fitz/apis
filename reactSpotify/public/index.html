<!doctype html>
<html>
  <head>
    <title>FiltrLand</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <script src="https://fb.me/react-0.14.6.js"></script>
	<script src="https://fb.me/react-dom-0.14.6.js"></script>
	<script src="https://unpkg.com/babel-core@5.8.38/browser.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  </head>

  <body>
      <script type="text/babel" src="js/script.js"></script>
    <div class="container">
    	<!-- LOGIN SCREEN -->
     	<div id="login">
        	<h1>Login to App</h1>
        	<a href="/login" class="btn btn-primary">Log in with Spotify</a>
      	</div>
     


	    <div id="loggedin"></div>

	    <div class="phone-case">
	    	
	    	<div class="phone-top">
	    		<div class="camera"></div>
	    	</div>
		    <div id="app">
		    </div>
		   
	    </div>

    </div>


    <script>
	    //handles user sign in
		(function() {

			function getHashParams() {
			  var hashParams = {};
			  var e, 
			  	r = /([^&;=]+)=?([^&;]*)/g,
			    q = window.location.hash.substring(1);
			  	while ( e = r.exec(q)) {
			    	hashParams[e[1]] = decodeURIComponent(e[2]);
			  	}
			  return hashParams;
			}

			var params = getHashParams();
			var access_token = params.access_token;

			if (access_token) {
			  $('#login').hide();
			  $('#loggedin').show();
			        
			} else {
			  // user not logged in
			  $('#login').show();
			  $('#loggedin').hide();
			}
		}());

    </script>
  </body>
</html>



